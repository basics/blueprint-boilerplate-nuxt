var Ft=Object.defineProperty;var Ot=(s,t,e)=>t in s?Ft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var f=(s,t,e)=>Ot(s,typeof t!="symbol"?t+"":t,e);import{C as Pt}from"./COtWEHUb.js";import{c as g,i as A,d as x,h as O,u as X,r as S,p as kt,a as Ht,b as K,e as Tt,o as Dt,n as Rt,w as mt,f as ft,g as v,j as w,k as H,l as G,m as gt,q as It,t as W,s as vt,v as jt,_ as U,x as z,y as Jt,z as Et,A as Wt,B as bt,C as st,D as Z,E as yt,F as _t,G as Y,H as Kt,I as Ut,J as rt,K as qt,L as _,M as Vt}from"./bhkxU0MC.js";import{g as St}from"./CeJ8ZBlK.js";import{u as tt}from"./Rn0vi9Pj.js";function Qt(s){return new URL(window.location.href)}function Gt({tag:s}={}){const t=g(()=>A("semanticStructure_parentLevel",1)+1),e=A("semanticStructure_rootLevel",1),n=g(()=>Yt(t.value-e)),r=g(()=>s||`h${n.value}`);return{parentLevel:t,currentLevel:n,currentTag:r}}const Yt=s=>Math.max(1,Math.min(s,6)),Xt=x({name:"ContentHeadline",props:{tag:{type:String,default:null},debug:{type:Boolean,default(){return A("semanticStructure_debug",!1)}}},setup(){const{parentLevel:s,currentLevel:t,currentTag:e}=Gt();return{parentLevel:s,currentLevel:t,currentTag:e}},render(){const{currentTag:s,currentLevel:t}=this;return O(s,{...this.$attrs,...Zt(this)},{default:()=>this.$slots.default({currentTag:s,currentLevel:t})})}}),Zt=s=>s.debug?{"data-current-tag":s.currentTag,"data-current-level":s.currentLevel}:{};function te(s){let t=0;if(s.length===0)return t;for(let e=0;e<s.length;e++){const n=s.charCodeAt(e);t=(t<<5)-t+n,t=t&t}return t}function b(s){return te(s).toString(16)}function q(s){return s.split(`
`).map(t=>t.trim()).join(" ")}function ee(s){return{key:s.className,type:"text/css",children:q(s.style)}}function se(s,t){return{key:t.picture,type:"text/css",children:q(s.style)}}function it(s,t=!1,e){return t?re(`<style>${s}</style>`,e):{key:e,type:"text/css",children:q(s)}}function re(s,t){return{key:t,innerHTML:q(s)}}class ie{constructor(){f(this,"list");this.list=[]}getKey(){return nt(JSON.stringify(this.list.map(t=>t.getKey())))}add(t){const e={name:"data-font",value:`${nt(JSON.stringify(t.map(n=>n.getKey())))}`};return this.list=[...this.list,...t.map(n=>(n.setRootSelector(e),n))],e}getPreloadDescriptions(t,e="anonymous"){return Array.from(this.list.reduce((n,r)=>n,new Map).values())}getStyleDescriptions(t){return ot([it(this.list.map(e=>e.getCSSText(t)).join(" "),!1,this.getKey())])}getNoScriptStyleDescriptions(){return ot([it(this.list.map(t=>t.getNoScriptCSSText()).join(" "),!0,this.getKey())])}get size(){return this.list.length}toJSON(){return{list:this.list.map(t=>t.toJSON())}}}function nt(s){return b(s).padStart(9,"-")}function ot(s){return s.filter(t=>t.key!=="0")}const at=Symbol("criticalContext");function T(s={}){const t=X(),{critical:e}={critical:void 0,...s},n=S("critical"in t?t.critical===""||String(t.critical)==="true":e),r=A(at,n.value||!1),i=g(()=>typeof n.value=="boolean"?n.value:r);return kt(at,i.value||e),{isCritical:i}}function ne(){const{booster:s}=Ht().public;return s}function wt(s={}){const{isCritical:t}=T(s),e=ne(),n=K(),r=Tt(new ie);try{const o=n.$booster.head.push({fontCollection:r,isCritical:t.value,options:e});Dt(()=>Rt(()=>o.dispose()))}catch(o){console.error(o)}function i(o,h,c,u){return typeof o=="object"&&(u=o.options,c=o.style,h=o.weight,o=o.family),{runtimeConfig:e,isCritical:t.value,fontCollection:r,definition:n.$booster.getFont(o,h,c,u)}}return{isCritical:t,$getFont:i}}const oe=x({__name:"Headline",props:{content:{}},setup(s){const{$getFont:t}=wt();return(e,n)=>{const r=ft("font");return mt((w(),H(v(Xt),null,{default:G(i=>[gt(e.$slots,"default",vt(jt(i)),()=>[It(W(e.content),1)],!0)]),_:3})),[[r,v(t)("Open Sans",300,"normal")]])}}}),ae=U(oe,[["__scopeId","data-v-d00cef34"]]),ce={class:"element-rich-text"},le=["innerHTML"],ue=x({__name:"RichText",props:{content:{}},setup(s){const{$getFont:t}=wt();return(e,n)=>{const r=ft("font");return mt((w(),z("div",ce,[e.$slots.default?gt(e.$slots,"default",{key:0,content:e.content}):(w(),z("div",{key:1,innerHTML:e.content},null,8,le))])),[[r,[v(t)("Open Sans"),v(t)("Open Sans",700,"normal",{selector:"strong"}),v(t)("Open Sans",400,"italic",{selector:"em"}),v(t)("Open Sans",700,"italic",{selector:"em strong, strong em"})]]])}}}),de=x({name:"HydrationWrapper",setup(s,{slots:t}){const e=t.default?t.default():[];return()=>he(e)}}),he=s=>s.length===1?s[0]:s,ct=["avif","webp","png","jpg","gif"],pe="jpg",me=s=>{const{pathname:t}=Wt(s),n=(bt(t,{strict:!1})||"").match(/\.([^.]+)$/),r=n?n[1]:"";return r&&ct.includes(r)||ct.includes(r)?r:pe};async function fe(s,t,e){window.Image?s=s.modify({src:t}):s=s.modify({src:Et(t)?t:Jt(t,Qt().origin)});const{width:n,height:r}=await e.getImageSize(s.src);return s.modify({width:n,height:r})}class C{constructor({src:t,sizes:e,width:n,height:r,media:i="all",quality:o=70,format:h=void 0,preload:c=!1,modifiers:u={},provider:d=void 0,preset:l=void 0,densities:a=void 0}){f(this,"src");f(this,"media");f(this,"sizes");f(this,"width");f(this,"height");f(this,"format");f(this,"quality");f(this,"preload");f(this,"modifiers");f(this,"provider");f(this,"preset");f(this,"densities");this.src=t,this.sizes=e,this.media=i,this.width=n,this.height=r,this.format=ge(t,h),this.quality=o,this.preload=c||!1,this.modifiers=u,this.provider=d,this.preset=l,this.densities=a}get key(){return b(JSON.stringify(this.toJSON()))}get ratio(){return(this.width??0)/(this.height??0)}get className(){return`image-${b($t(this.src))}`}get style(){return`
      @supports (aspect-ratio: 1) {
        @media ${this.media} { .${this.className} { aspect-ratio: ${this.width} / ${this.height}; } }
      }
    `}getModifiers(){return{...this.modifiers,format:this.format,quality:this.quality}}getOptions(t){return{provider:this.provider,preset:this.preset,densities:this.densities||t.densities}}getMeta(t,e){return fe(new C({...this.toJSON()}),t,e)}getPreload(t,e,n){return{rel:"preload",as:"image",imagesrcset:t,imagesizes:e,media:this.media,crossorigin:n}}modify(t){return new C({...this.toJSON(),...t})}toJSON(){return{src:this.src,sizes:this.sizes,media:this.media,width:this.width,height:this.height,format:this.format,quality:this.quality,preload:this.preload,modifiers:this.modifiers,provider:this.provider,preset:this.preset,densities:this.densities}}static create(...t){return new this(...t)}}function ge(s,t){const e=me(s);return t!=null&&t.includes(e)?e:t||e}function $t(s){if(s.startsWith("/"))return s;const t=new URL(s);return t.pathname+t.search+t.hash}function Ct(s){return["anonymous","use-credentials",void 0].includes(s)}const ve={source:{type:[C,Object],default:null},title:{type:String,required:!0},alt:{type:String,default:null},crossorigin:{type:[Boolean,String],default(){},validator:Ct}};var lt={};const ye=["srcset","sizes","width","height","title","alt","loading","decoding","crossorigin"],_e=x({inheritAttrs:!1,__name:"Base",props:ve,emits:["load"],async setup(s,{emit:t}){let e,n;const r=X(),i=s,o=t,h=tt(),c=K().$booster,{isCritical:u}=T(),d=S(!0),l=S(),a=S(),y=S(),D=S(),R=S(),L=g(()=>St(i.crossorigin||c.crossorigin)),Q=g(()=>{var F;const m={loading:d.value};return(F=y.value)!=null&&F.className&&(m[y.value.className]=!0),m}),p=g(()=>{var m;return r.width||((m=l.value)==null?void 0:m.width)}),M=g(()=>{var m;return r.height||((m=l.value)==null?void 0:m.height)}),I=g(()=>u.value?"eager":"lazy"),zt=g(()=>!i.source||new C(i.source).format!=="svg"?"async":"sync");function Lt(m){d.value=!1,o("load",m.target)}if(i.source){y.value=st(new C(i.source)),a.value=h.getSizes(y.value.src,{sizes:y.value.sizes,modifiers:y.value.getModifiers(),...y.value.getOptions(c)}),D.value=a.value.srcset||a.value.src,R.value=a.value.sizes;const m=S({});if(Z(()=>m.value),a.value&&a.value.src){try{l.value=st(([e,n]=yt(()=>y.value.getMeta(a.value.src,c)),e=await e,n(),e))}catch(F){console.error(F)}m.value={style:[l.value&&ee(y.value)].filter(Boolean),link:[!(!a.value||!u.value)&&lt.prerender&&y.value.getPreload(a.value.srcset,a.value.sizes,L.value)].filter(Boolean),noscript:[lt.prerender&&{key:"img-nojs",children:`<style>
img{content-visibility:unset!important}
</style>`}].filter(Boolean)}}}else d.value=!1;return(m,F)=>(w(),z("img",_t(v(r),{srcset:D.value,sizes:R.value,width:p.value,height:M.value,class:["nuxt-booster-image",Q.value],title:m.title,alt:m.alt||m.title,loading:I.value,decoding:zt.value,crossorigin:L.value,onLoad:Lt}),null,16,ye))}}),Se=U(_e,[["__scopeId","data-v-29884a67"]]),xt=/(!?\(\s*min(-device)?-width)(.|\n)+\(\s*max(-device)?-width|\(\s*width\s*>(=)?(.|\n)+\(\s*width\s*<(=)?|(!?\(.*<(=)?\s*width\s*<(=)?)/i,we=/\(\s*min(-device)?-width|\(\s*width\s*>(=)?/i,Nt=/(!?\(\s*max(-device)?-width)(.|\n)+\(\s*min(-device)?-width|\(\s*width\s*<(=)?(.|\n)+\(\s*width\s*>(=)?|(!?\(.*>(=)?\s*width\s*>(=)?)/i,$e=/\(\s*max(-device)?-width|\(\s*width\s*<(=)?/i,P=V(xt,Nt,we),j=V(Nt,xt,$e),Bt=/(!?\(\s*min(-device)?-height)(.|\n)+\(\s*max(-device)?-height|\(\s*height\s*>(=)?(.|\n)+\(\s*height\s*<(=)?|(!?\(.*<(=)?\s*height\s*<(=)?)/i,Ce=/\(\s*min(-device)?-height|\(\s*height\s*>(=)?/i,Mt=/(!?\(\s*max(-device)?-height)(.|\n)+\(\s*min(-device)?-height|\(\s*height\s*<(=)?(.|\n)+\(\s*height\s*>(=)?|(!?\(.*>(=)?\s*height\s*>(=)?)/i,xe=/\(\s*max(-device)?-height|\(\s*height\s*<(=)?/i,k=V(Bt,Mt,Ce),J=V(Mt,Bt,xe),N=/<(?!=)/,B=/>(?!=)/,ut=/print/i,dt=/^print$/i,$=Number.MAX_VALUE;function E(s){let t=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/.exec(s);if(t===null&&(P(s)||k(s))&&(t=/(\d)/.exec(s)),t==="0")return 0;if(t===null)return $;let e=t[1];switch(t[2]){case"ch":e=parseFloat(e)*8.8984375;break;case"em":case"rem":e=parseFloat(e)*16;break;case"ex":e=parseFloat(e)*8.296875;break;case"px":e=parseFloat(e);break}return+e}function V(s,t,e){return function(n){let r;return s.test(n)?r=!0:t.test(n)?r=!1:r=e.test(n),n.includes("not")?!r:r}}function ht(s,t){const e=ut.test(s),n=dt.test(s),r=ut.test(t),i=dt.test(t);return e&&r?!n&&i?1:n&&!i?-1:s.localeCompare(t):e?1:r?-1:null}function Ne(s){const e={}.unitlessMqAlwaysFirst;function n(r,i){const o=ht(r,i);if(o!==null)return o;const h=P(r)||k(r),c=j(r)||J(r),u=P(i)||k(i),d=j(i)||J(i);if(e&&(!h&&!c||!u&&!d))return!h&&!c&&!u&&!d?r.localeCompare(i):!u&&!d?1:-1;{if(h&&d)return-1;if(c&&u)return 1;const l=E(r),a=E(i);if(l===$&&a===$)return r.localeCompare(i);if(l===$)return 1;if(a===$)return-1;if(l>a)return c?-1:1;if(l<a)return c?1:-1;if(l===a){if(c&&d){if(N.test(r)&&!N.test(i))return 1;if(!N.test(r)&&N.test(i))return-1}if(h&&u){if(B.test(r)&&!B.test(i))return 1;if(!B.test(r)&&B.test(i))return-1}}return r.localeCompare(i)}}return n.desktopFirst=function(r,i){const o=ht(r,i);if(o!==null)return o;const h=P(r)||k(r),c=j(r)||J(r),u=P(i)||k(i),d=j(i)||J(i);if(e&&(!h&&!c||!u&&!d))return!h&&!c&&!u&&!d?r.localeCompare(i):!u&&!d?1:-1;{if(h&&d)return 1;if(c&&u)return-1;const l=E(r),a=E(i);if(l===$&&a===$)return r.localeCompare(i);if(l===$)return 1;if(a===$)return-1;if(l>a)return c?-1:1;if(l<a)return c?1:-1;if(l===a){if(c&&d){if(N.test(r)&&!N.test(i))return 1;if(!N.test(r)&&N.test(i))return-1}if(h&&u){if(B.test(r)&&!B.test(i))return 1;if(!B.test(r)&&B.test(i))return-1}}return-r.localeCompare(i)}},n}const Be=Ne();class et{constructor(t,e={}){f(this,"list",[]);f(this,"sort",!1);e=e||{},this.sort=e.sort||!1,this.list=this.list.concat(Array.from(t||this.list).map(n=>new C(n)))}get length(){return this.list.length}[Symbol.iterator](){return this.list.values()}get key(){return this.list.map(t=>t.key).join("-")}get sorted(){return this.sort?this.list.sort((t,e)=>Be(t.media||"",e.media||"")):this.list}get style(){return this.list.map(({media:t,width:e,height:n,style:r})=>`
      @media ${t} { .${this.className}::before { padding-top: calc((1 / (${e} / ${n})) * 100%); } }
      @supports (aspect-ratio: 1) {
        @media ${t} { .${this.className} { aspect-ratio: ${e} / ${n}; } }
      }
      ${r}
    `).reverse().join(" ")}get className(){return`picture-${b(this.sorted.map(({src:t})=>$t(t)).join(","))}`}get classNames(){return{picture:this.className,image:this.list.map(t=>t.className)}}getFormats(t,e,n){return this.sorted.reduce((r,i)=>r.concat(t.map(o=>i.modify({format:o,preload:o.includes(e)&&n}))),[])}async getMeta(t,e){const n=await Promise.all(this.sorted.map(r=>{const i=t.getSizes(r.src,{sizes:r.sizes,modifiers:r.getModifiers(),...r.getOptions(e)});return i.src?r.getMeta(i.src,e):(console.warn("No src found for source",r),r)}).filter(Boolean));return new et(n)}toJSON(){return this.list}static create(...t){return new this(...t)}}var Me={};const Ae=["srcset","sizes","media","type"],ze=x({__name:"Source",props:{source:{type:C,required:!0},crossorigin:{type:[Boolean,String],default(){return null},validator:s=>["anonymous","use-credentials","",!0,!1,void 0].includes(s)}},setup(s){const t=new Map([["jpg","jpeg"]]),e=s,n=tt(),r=K().$booster,i=n.getSizes(e.source.src,{sizes:e.source.sizes,modifiers:e.source.getModifiers(),...e.source.getOptions(r)}),o=S(i.srcset||i.src),h=S(e.source.format&&`image/${t.get(e.source.format)||e.source.format}`),c=g(()=>St(e.crossorigin||r.crossorigin)),u=new C(e.source);return Z(()=>({link:i&&u.preload&&o.value&&Me.prerender?[u.getPreload(o.value,i.sizes,c.value)]:[]})),(d,l)=>(w(),z("source",{srcset:o.value,sizes:v(i).sizes,media:s.source.media,type:h.value},null,8,Ae))}}),At={sources:{type:Array,default(){return[]}},formats:{type:Array,default(){return null}},title:{type:String,default:null},alt:{type:String,default:null},crossorigin:{type:[Boolean,String],default(){return null},validator:Ct},sortSources:{type:Boolean,default:!0}},Le=x({__name:"Base",props:At,emits:["load"],async setup(s,{emit:t}){let e,n;const r=["avif","webp","png","jpg","gif"],i=s,o=t,{isCritical:h}=T(),c=tt(),u=K().$booster,d=et.create(i.sources,{sort:i.sortSources}),l=S(),a=i.formats||u.targetFormats,y=Array.from(new Set(r.map(p=>a.find(M=>M.includes(p))))).filter(Boolean),D=r.find(p=>a.find(M=>M.includes(p))),R=S(d.getFormats(y,D,h.value)),L=g(()=>{var p;return((p=l.value)==null?void 0:p.classNames)||{picture:"",image:[]}}),Q=p=>{o("load",p)};Z(()=>{if(l.value&&l.value.length){const p=l.value.classNames;return{style:[se(l.value,p)]}}return{}});try{l.value=([e,n]=yt(()=>d.getMeta(c,u)),e=await e,n(),e)}catch(p){console.error(p)}return(p,M)=>(w(),z("picture",{class:rt([L.value.picture,"nuxt-booster-picture"])},[(w(!0),z(Kt,null,Ut(R.value,I=>(w(),H(ze,{key:I.key,source:I,crossorigin:p.crossorigin},null,8,["source","crossorigin"]))),128)),Y(Se,{class:rt(L.value.image),title:p.title,alt:p.alt,crossorigin:p.crossorigin,width:"0",height:"0",onLoad:Q},null,8,["class","title","alt","crossorigin"])],2))}}),pt=U(Le,[["__scopeId","data-v-63f9dbe3"]]),Fe=x({__name:"BoosterPicture",props:{hydrate:{type:Boolean,default:!0},...At},setup(s){const t=s,e=X(),{isCritical:n}=T(),r=g(()=>t.hydrate?O(pt,{...e,...t,hydrate:void 0,critical:n.value}):O(de,{},[O("noscript",{class:"nuxt-booster-picture-noscript"},[O(pt,{...e,...t,hydrate:void 0,critical:t.hydrate})])]));return(i,o)=>(w(),H(qt(v(r))))}}),Oe={class:"image"},Pe=x({__name:"Example",props:{headline:{},picture:{}},setup(s){const{isCritical:t}=T(),e=A("layoutData"),n=A("pageData");return(r,i)=>(w(),H(v(Pt),{class:"example"},{default:G(()=>[_("div",null,[Y(ae,{content:r.headline},null,8,["content"]),Y(ue,null,{default:G(()=>i[0]||(i[0]=[_("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit",-1)])),_:1}),_("div",Oe,[r.picture?(w(),H(Fe,vt(_t({key:0},r.picture)),null,16)):Vt("",!0)]),_("details",null,[i[1]||(i[1]=_("summary",null,"Critical",-1)),_("pre",null," "+W({isCritical:v(t)})+" ",1)]),_("details",null,[i[2]||(i[2]=_("summary",null,"Page Data",-1)),_("pre",null,W(v(n)),1)]),_("details",null,[i[3]||(i[3]=_("summary",null,"Layout Data",-1)),_("pre",null,W(v(e)),1)])])]),_:1}))}}),Ie=U(Pe,[["__scopeId","data-v-f49b89b4"]]);export{Ie as default};
